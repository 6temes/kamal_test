# Secrets defined here are available for reference under registry/password, env/secret, builder/secrets,
# and accessories/*/env/secret in config/deploy.yml. All secrets should be pulled from either
# password manager, ENV, or a file. DO NOT ENTER RAW CREDENTIALS HERE! This file needs to be safe for git.

# Use a GITHUB_TOKEN if private repositories are needed for the image
# GITHUB_TOKEN=$(gh config get -h github.com oauth_token)

# GitHub Container Registry PAT (used as registry password for ghcr.io)
GHCR_PAT=$GHCR_PAT

# Improve security by using a password manager. Never check config/master.key into git!
# Try to read from file if it exists, otherwise use environment variable
if [ -f config/master.key ]; then
  RAILS_MASTER_KEY=$(cat config/master.key)
else
  RAILS_MASTER_KEY=${RAILS_MASTER_KEY}
fi

# PostgreSQL database credentials - used for both PostgreSQL container and Rails app
# Generate a secure password with: openssl rand -base64 32
POSTGRES_USER=${PRODUCTION_POSTGRES_USER}
POSTGRES_PASSWORD=${PRODUCTION_POSTGRES_PASSWORD}

# Prometheus basic auth credentials (htpasswd format)
# Generate with: echo -n 'admin:' && echo 'your_password' | openssl passwd -apr1 -stdin
# This should be the full htpasswd line: username:hashed_password
PROMETHEUS_BASIC_AUTH=${PROMETHEUS_BASIC_AUTH}
